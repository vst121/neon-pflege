<div class="step-content">
  <div class="step-header">
    <h2 class="step-title">Living Conditions</h2>
    <p class="step-description">Tell us about your current living situation</p>
  </div>

  <form class="step-form" (ngSubmit)="onSubmit()">
    <div class="form-section">
      <h3 class="section-title">What type of residence do you live in?</h3>
      <mat-radio-group [(ngModel)]="formData.residenceType" name="residenceType" class="option-grid">
        @for (option of residenceTypes; track option.value) {
          <mat-card 
            class="option-card" 
            [class.selected]="formData.residenceType === option.value"
            (click)="formData.residenceType = option.value"
            matRipple>
            <mat-radio-button [value]="option.value" class="radio-input"></mat-radio-button>
            <div class="option-content">
              <span class="option-icon">{{ option.icon }}</span>
              <span class="option-label">{{ option.label }}</span>
            </div>
          </mat-card>
        }
      </mat-radio-group>
    </div>

    <div class="form-section">
      <h3 class="section-title">Who do you live with?</h3>
      <mat-radio-group [(ngModel)]="formData.livingSituation" name="livingSituation" class="option-grid">
        @for (option of livingSituations; track option.value) {
          <mat-card 
            class="option-card" 
            [class.selected]="formData.livingSituation === option.value"
            (click)="formData.livingSituation = option.value"
            matRipple>
            <mat-radio-button [value]="option.value" class="radio-input"></mat-radio-button>
            <div class="option-content">
              <span class="option-icon">{{ option.icon }}</span>
              <span class="option-label">{{ option.label }}</span>
            </div>
          </mat-card>
        }
      </mat-radio-group>
    </div>

    <div class="form-section">
      <h3 class="section-title">How accessible is your home?</h3>
      <mat-radio-group [(ngModel)]="formData.homeAccessibility" name="homeAccessibility" class="option-grid">
        @for (option of accessibilityLevels; track option.value) {
          <mat-card 
            class="option-card" 
            [class.selected]="formData.homeAccessibility === option.value"
            (click)="formData.homeAccessibility = option.value"
            matRipple>
            <mat-radio-button [value]="option.value" class="radio-input"></mat-radio-button>
            <div class="option-content">
              <span class="option-icon">{{ option.icon }}</span>
              <span class="option-label">{{ option.label }}</span>
            </div>
          </mat-card>
        }
      </mat-radio-group>
    </div>

    <div class="form-section">
      <h3 class="section-title">Are there stairs in your home?</h3>
      <mat-radio-group [(ngModel)]="formData.stairs" name="stairs" class="option-grid">
        @for (option of stairsOptions; track option.value) {
          <mat-card 
            class="option-card" 
            [class.selected]="formData.stairs === option.value"
            (click)="formData.stairs = option.value"
            matRipple>
            <mat-radio-button [value]="option.value" class="radio-input"></mat-radio-button>
            <div class="option-content">
              <span class="option-icon">{{ option.icon }}</span>
              <span class="option-label">{{ option.label }}</span>
            </div>
          </mat-card>
        }
      </mat-radio-group>
    </div>

    <div class="form-actions">
      <button mat-raised-button type="button" color="basic" (click)="onPrevious()">
        <mat-icon>arrow_back</mat-icon>
        Previous
      </button>
      <button mat-raised-button type="submit" color="primary" [disabled]="!canProceed()">
        Continue
        <mat-icon>arrow_forward</mat-icon>
      </button>
    </div>
  </form>
</div>


